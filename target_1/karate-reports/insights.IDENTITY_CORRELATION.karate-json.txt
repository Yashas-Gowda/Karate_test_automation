{"failedCount":1,"prefixedPath":"classpath:insights\/IDENTITY_CORRELATION.feature","packageQualifiedName":"insights.IDENTITY_CORRELATION","loopIndex":-1,"relativePath":"insights\/IDENTITY_CORRELATION.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":433019,"millis":0.433019,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"configure charset = null"},"stepLog":"15:25:57.188 karate.envData system property was: null \n"},{"result":{"nanos":217444,"millis":0.217444,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"path '\/api\/insights\/'"}},{"result":{"nanos":63364,"millis":0.063364,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url requestUrl"}},{"result":{"nanos":1427632,"millis":1.427632,"status":"passed"},"step":{"line":11,"prefix":"And","index":1,"text":"def payload = read(\"data\/\" + env + \"\/IDENTITY_CORRELATION\/IDENTITY_CORRELATION_Positive_with_input_phoneNumber_email_ipAddress_SAMPLE.json\")"}},{"result":{"nanos":369919,"millis":0.369919,"status":"passed"},"step":{"line":12,"prefix":"And","index":2,"text":"headers headers"}},{"result":{"nanos":1803291,"millis":1.803291,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request payload.request"}},{"result":{"nanos":754821,"millis":0.754821,"status":"passed"},"step":{"line":14,"prefix":"*","index":4,"text":"set payload.response.meta.referenceId = \"#ignore\""}},{"result":{"nanos":1084902529,"millis":1084.902529,"status":"passed"},"step":{"line":15,"prefix":"When","index":5,"text":"method POST"},"stepLog":"15:25:57.195 request:\n1 > POST https:\/\/test.monnai.com\/api\/insights\n1 > x-reference-id: AMS-test-1\n1 > x-request-id: AMS-req-id-1\n1 > Content-Type: application\/vnd.monnai.v1.2+json\n1 > Accept: application\/json\n1 > Authorization: Bearer eyJraWQiOiJRZzhHYTFpM2tYT1ExUGZvZW9PWldcL2F1eFVxa1pIb1wvUG5FbFFhM3JGbjQ9IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiI1MDgyNDJlNS02YjE2LTRmOTYtYWU0NS01ZTM1NmY4MDI4MWUiLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuYXAtc291dGhlYXN0LTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGhlYXN0LTFfU1A4VzhubnNQIiwidmVyc2lvbiI6MiwiY2xpZW50X2lkIjoiNXA3dWtuaGdhMGpmb2FoaTk4bDA2aWM4YW0iLCJvcmlnaW5fanRpIjoiYTJjNTZkM2QtNGQxZC00N2Y5LTgyNjEtN2YxODM1NTQ5OGY3IiwiZXZlbnRfaWQiOiIzMDkyODI0MS00NGNmLTQ4NTQtOGFlMC02MzVjYTEyZWI4MzciLCJ0b2tlbl91c2UiOiJhY2Nlc3MiLCJzY29wZSI6InBob25lIG9wZW5pZCBwcm9maWxlIGVtYWlsIiwiYXV0aF90aW1lIjoxNjk0NzYwMDc2LCJleHAiOjE2OTQ4NDY0NzYsImlhdCI6MTY5NDc2MDA3NywianRpIjoiMDZiZGNjM2EtZWJmNS00NDQxLWFhN2MtOTgwOGM5NTBiYjcyIiwidXNlcm5hbWUiOiI1MDgyNDJlNS02YjE2LTRmOTYtYWU0NS01ZTM1NmY4MDI4MWUifQ.B1oBK9cCU_VkVqDYVk0FyR4-l-C2C-OGZHHEsNhQeWfIzuwQ81HKCr3iRwmnPyDWFRBpB0EO-p-4WrcE3RLNWg1Tdy0UMj9NcBy_3QuSCL5TT-Jj9ZH6HyrD0RLxL36xs9a5LLGBqLUYq_tUmdKT8BPYWEW9dqVJctfgRe2TyGoVkTMF4d8vptZQMe8oxvWCuJVFwK5InTKlf2a9zeERULANgt02gm9Ox531Png3yujk6Ufra-v11IojnZzRinQk2RYxB6S5MJr3snyLSvnfWJpL_CMyG5zhWOI4MWQaa7cufw1as-gdE-IwJ3kBJS2KfaG9e_c0U2nsRgKpguZA0g\n1 > id_token: eyJraWQiOiJCN2NiMHRuNFF2M3ZHOUxPcXV2RXhEZysxb0F3SHVZUjdDQmdIU1ZBOUZZPSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoiRGxoRHJZeGN2aF9Sbl82dlk4Zy1OUSIsInN1YiI6IjUwODI0MmU1LTZiMTYtNGY5Ni1hZTQ1LTVlMzU2ZjgwMjgxZSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJyb2xlcyI6Ik1PTk5BSV9BRE1JTiIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tXC9hcC1zb3V0aGVhc3QtMV9TUDhXOG5uc1AiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTA4MjQyZTUtNmIxNi00Zjk2LWFlNDUtNWUzNTZmODAyODFlIiwiZ2l2ZW5fbmFtZSI6IlNhbmpheSIsIm9yaWdpbl9qdGkiOiJhMmM1NmQzZC00ZDFkLTQ3ZjktODI2MS03ZjE4MzU1NDk4ZjciLCJhdWQiOiI1cDd1a25oZ2EwamZvYWhpOThsMDZpYzhhbSIsImV2ZW50X2lkIjoiMzA5MjgyNDEtNDRjZi00ODU0LThhZTAtNjM1Y2ExMmViODM3IiwidGVuYW50TmFtZSI6Ik1PTk5BSSIsInRva2VuX3VzZSI6ImlkIiwiZG9tYWluIjoibW9ubmFpLmNvbSIsImF1dGhfdGltZSI6MTY5NDc2MDA3NiwidGVuYW50SWQiOiJ0ZW5hbnRfMDFHS0taOEhNSDJGUUhCSEUwOFlITUhKS1oiLCJleHAiOjE2OTQ4NDY0NzYsImlhdCI6MTY5NDc2MDA3NywiZmFtaWx5X25hbWUiOiJHb3dkYXIgUyIsImp0aSI6ImUwOTIwMjMwLWM5M2UtNGZkOS1hYmU4LTgwZGVkY2E0NTFjYSIsImVtYWlsIjoic2FuamF5YUBtb25uYWkuY29tIn0.apiPm-dLNaCE7x6lRDHSh6fzteGYjiWy0NBF2bfhmysRZuHk9vh_MqKyNdMTLBNT2VRkIpNwDxy7f8Ye79e9X416PVbwjV6dEgz5nqnJSWbIdoHHx8sLd6PBRMmvxPZkCKREovWcMPJ34CalvGwhgqg_dvF22Vz0zUF6FsdrkbXAQBuoCWb0VtRKOFGUZBDc8FQROeXB40eTGx0NAcLMVUWfgRDaXcDifjvnNwXDUvpVaJEuQADeGQlirtrVATa3O7l9KfwNex8YIcb7AUVCRxWNZ9RIxHbIn1Ax6bMr7UpYnikayQzjKcBxeD6OJeOMfie1gtN-kg9EjIb7cFm7yw\n1 > Content-Length: 224\n1 > Host: test.monnai.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.7)\n1 > Accept-Encoding: gzip,deflate\n{\"phoneNumber\":\"8005550123\",\"email\":\"example@me.com\",\"ipAddress\":\"107.77.94.125\",\"phoneDefaultCountryCode\":\"IN\",\"originalCountryCode\":\"US\",\"eventType\":\"ACCOUNT_LOGIN\",\"cleansingFlag\":true,\"packages\":[\"IDENTITY_CORRELATION\"]}\n\n15:25:58.278 response time in milliseconds: 1082\n1 < 200\n1 < Date: Fri, 15 Sep 2023 09:55:56 GMT\n1 < Content-Type: application\/json\n1 < Content-Length: 590\n1 < Connection: keep-alive\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < X-Content-Type-Options: nosniff\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < X-XSS-Protection: 1 ; mode=block\n1 < Content-Security-Policy: form-action 'self'\n1 < Referrer-Policy: no-referrer\n{\"data\":{\"phone\":null,\"email\":null,\"address\":null,\"name\":null,\"ip\":null,\"identity\":{\"correlation\":{\"phoneAndEmailMatched\":\"YES\",\"phoneAndIpAddressMatched\":\"NO\",\"phoneAndIpLocationMatched\":\"NO_INPUT\",\"phoneEmailAndIpAddressMatched\":\"NO\"},\"enrichment\":null,\"enrichmentPlus\":null},\"upi\":null,\"device\":null,\"employment\":null,\"income\":null,\"blacklist\":null,\"bre\":null},\"meta\":{\"inputPhoneNumber\":\"8005550123\",\"cleansedPhoneNumber\":\"+918005550123\",\"referenceId\":\"AMS-test-1\",\"inputEmail\":\"example@me.com\",\"inputIpAddress\":\"107.77.94.125\",\"requestedPackages\":[\"IDENTITY_CORRELATION\"]},\"errors\":[]}\n\n"},{"result":{"nanos":2430717,"millis":2.430717,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"print payload.request"},"stepLog":"15:25:58.282 [print] {\n  \"phoneNumber\": \"8005550123\",\n  \"email\": \"example@me.com\",\n  \"ipAddress\": \"107.77.94.125\",\n  \"phoneDefaultCountryCode\": \"IN\",\n  \"originalCountryCode\": \"US\",\n  \"eventType\": \"ACCOUNT_LOGIN\",\n  \"cleansingFlag\": true,\n  \"packages\": [\n    \"IDENTITY_CORRELATION\"\n  ]\n}\n \n"},{"result":{"nanos":822425,"millis":0.822425,"status":"passed"},"step":{"line":17,"prefix":"*","index":7,"text":"print payload.response"},"stepLog":"15:25:58.283 [print] {\n  \"data\": {\n    \"phone\": null,\n    \"email\": null,\n    \"address\": null,\n    \"name\": null,\n    \"ip\": null,\n    \"identity\": {\n      \"correlation\": {\n        \"phoneAndEmailMatched\": \"YES\",\n        \"phoneAndIpAddressMatched\": \"NO\",\n        \"phoneAndIpLocationMatched\": \"NO\",\n        \"phoneEmailAndIpAddressMatched\": \"NO\"\n      },\n      \"enrichment\": null,\n      \"enrichmentPlus\": null\n    },\n    \"upi\": null,\n    \"device\": null,\n    \"employment\": null,\n    \"income\": null,\n    \"blacklist\": null,\n    \"bre\": null\n  },\n  \"meta\": {\n    \"inputPhoneNumber\": \"8005550123\",\n    \"cleansedPhoneNumber\": \"+918005550123\",\n    \"referenceId\": \"#ignore\",\n    \"inputEmail\": \"example@me.com\",\n    \"inputIpAddress\": \"107.77.94.125\",\n    \"requestedPackages\": [\n      \"IDENTITY_CORRELATION\"\n    ]\n  },\n  \"errors\": [\n  ]\n}\n \n"},{"result":{"nanos":1851137,"millis":1.851137,"status":"passed"},"step":{"line":18,"prefix":"*","index":8,"text":"print karate.pretty(response)"},"stepLog":"15:25:58.284 [print] {\n  \"data\": {\n    \"phone\": null,\n    \"email\": null,\n    \"address\": null,\n    \"name\": null,\n    \"ip\": null,\n    \"identity\": {\n      \"correlation\": {\n        \"phoneAndEmailMatched\": \"YES\",\n        \"phoneAndIpAddressMatched\": \"NO\",\n        \"phoneAndIpLocationMatched\": \"NO_INPUT\",\n        \"phoneEmailAndIpAddressMatched\": \"NO\"\n      },\n      \"enrichment\": null,\n      \"enrichmentPlus\": null\n    },\n    \"upi\": null,\n    \"device\": null,\n    \"employment\": null,\n    \"income\": null,\n    \"blacklist\": null,\n    \"bre\": null\n  },\n  \"meta\": {\n    \"inputPhoneNumber\": \"8005550123\",\n    \"cleansedPhoneNumber\": \"+918005550123\",\n    \"referenceId\": \"AMS-test-1\",\n    \"inputEmail\": \"example@me.com\",\n    \"inputIpAddress\": \"107.77.94.125\",\n    \"requestedPackages\": [\n      \"IDENTITY_CORRELATION\"\n    ]\n  },\n  \"errors\": [\n  ]\n}\n \n"},{"result":{"nanos":7930,"millis":0.00793,"status":"passed"},"step":{"line":19,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":304079,"millis":0.304079,"status":"passed"},"step":{"line":20,"prefix":"*","index":10,"text":"def phoneAndIpAddressMatched = $.data.identity.correlation.phoneAndEmailMatched"}},{"result":{"nanos":605399,"millis":0.605399,"status":"passed"},"step":{"line":21,"prefix":"*","index":11,"text":"match phoneAndIpAddressMatched != 'NO_INPUT'"}},{"result":{"nanos":393301,"millis":0.393301,"status":"passed"},"step":{"line":22,"prefix":"*","index":12,"text":"def phoneAndIpAddressMatched = $.data.identity.correlation.phoneAndIpAddressMatched"}},{"result":{"nanos":169799,"millis":0.169799,"status":"passed"},"step":{"line":23,"prefix":"*","index":13,"text":"match phoneAndIpAddressMatched != 'NO_INPUT'"}},{"result":{"nanos":166300,"millis":0.1663,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"def phoneEmailAndIpAddressMatched = $.data.identity.correlation.phoneAndIpLocationMatched"}},{"result":{"nanos":409709,"errorMessage":"match failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  'NO_INPUT'\n  'NO_INPUT'\n\nclasspath:insights\/IDENTITY_CORRELATION.feature:25","millis":0.409709,"status":"failed"},"step":{"line":25,"prefix":"*","index":15,"text":"match phoneEmailAndIpAddressMatched != 'NO_INPUT'"},"stepLog":"15:25:58.287 classpath:insights\/IDENTITY_CORRELATION.feature:25\n* match phoneEmailAndIpAddressMatched != 'NO_INPUT'\nmatch failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  'NO_INPUT'\n  'NO_INPUT'\n\nclasspath:insights\/IDENTITY_CORRELATION.feature:25\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"*","index":16,"text":"def phoneEmailAndIpAddressMatched = $.data.identity.correlation.phoneEmailAndIpAddressMatched"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"*","index":17,"text":"match phoneEmailAndIpAddressMatched != 'NO_INPUT'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"Then","index":18,"text":"match $ contains payload.response"}}],"line":32,"description":"","durationMillis":1097.132815,"failed":true,"error":"match failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  'NO_INPUT'\n  'NO_INPUT'\n\nclasspath:insights\/IDENTITY_CORRELATION.feature:25","tags":["debug","smokeTest"],"executorName":"main","name":"Validate SAMPLE DPI IDENTITY_CORRELATION positive scenarios with input mandatory field like phoneNumber and optional fields like email,ipAddress IDENTITY_CORRELATION_Positive_with_input_phoneNumber_email_ipAddress_SAMPLE","startTime":1694771757185,"refId":"[1.1:32]","endTime":1694771758287,"exampleData":{"Scenario":"IDENTITY_CORRELATION_Positive_with_input_phoneNumber_email_ipAddress_SAMPLE","statusCode":"200"},"exampleIndex":0}],"callDepth":0,"name":"Testing of DPI  - IDENTITY_CORRELATION feature scenarios","description":"","resultDate":"2023-09-15 03:25:58 pm","durationMillis":1097.132815,"passedCount":0}